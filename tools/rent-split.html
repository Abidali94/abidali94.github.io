<!DOCTYPE html>
<html lang="en">
<head>

<!-- Dark Mode Support -->
<style>
body.dark { background:#121212; color:#e8e8e8; }
body.dark .card { background:#1e1e1e; border-color:#555; }
body.dark input { background:#2c2c2c; border-color:#666; color:#eee; }
body.dark table, body.dark th, body.dark td { background:#1d1d1d; border-color:#555; color:#eee; }
body.dark a.btn, body.dark button.btn { background:#444; }
body.dark a.btn:hover, body.dark button.btn:hover { background:#666; }
body.dark h1 { color:#ffd27f; }

.theme-toggle{
  position:fixed; top:12px; right:12px;
  background:#ff8800; color:#fff; border:none;
  padding:8px 12px; border-radius:6px; font-size:14px; z-index:9999;
}
</style>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Rent Split Calculator ‚Äî KharchaSaathi</title>

<style>
:root{
  --bg:#FAFAFA;
  --card:#fff;
  --text:#222;
  --muted:#777;
  --line:#ddd;
  --brand:#ff7a00;
  --brand2:#cc6300;
}

body{
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  background:var(--bg);
  margin:0;
  padding:24px;
  color:var(--text);
  text-align:center;
}

.wrap{ max-width:700px; margin:auto; }

h1{
  font-size:32px;
  font-weight:800;
  margin-top:6px;
  margin-bottom:18px;
}

.card{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:12px;
  padding:16px;
  box-shadow:0 2px 8px rgba(0,0,0,.06);
  text-align:left;
}

label{ display:block; margin-top:10px; font-weight:600; }
input{
  width:100%;
  padding:8px 10px;
  border-radius:8px;
  border:1px solid #aaa;
  font-size:15px;
}

.row{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:12px;
}

/* Mobile Responsive Fix */
@media (max-width: 520px){
  .row { grid-template-columns:1fr !important; }
}

button, .btn{
  padding:10px 14px;
  border-radius:10px;
  border:none;
  cursor:pointer;
  font-weight:600;
  background:var(--brand);
  color:#fff;
  transition:.25s;
}
button:hover, .btn:hover{ background:var(--brand2); transform:translateY(-2px); }

table{
  width:100%;
  border-collapse:collapse;
  margin-top:16px;
}
th,td{
  border:1px solid var(--line);
  padding:10px;
  text-align:center;
}

.muted{ color:var(--muted); font-size:13px; }

</style>
</head>

<body>

<button class="theme-toggle" onclick="toggleTheme()">üåô</button>

<div class="wrap">

  <h1>üè† Rent Split Calculator</h1>

  <div class="card">

    <label>Total Rent (‚Çπ)</label>
    <input id="rent" type="number" placeholder="e.g., 12000">

    <div class="row">
      <div>
        <label>Number of people</label>
        <input id="people" type="number" placeholder="e.g., 3">
      </div>
      <div>
        <label>Custom shares (optional)</label>
        <input id="shares" type="text" placeholder="e.g., 2,1,1">
      </div>
    </div>

    <label style="margin-top:12px;">Currency</label>
    <input id="currency" type="text" value="‚Çπ" maxlength="3">

    <div style="margin-top:15px; display:flex; gap:8px; flex-wrap:wrap;">
      <button class="btn" onclick="calc()">Calculate</button>
      <button onclick="resetAll()">Reset</button>
    </div>

    <div id="out"></div>

    <p class="muted" style="margin-top:10px;">
      Tip: To split uneven rooms, use shares like <b>3,2,1</b>
    </p>
  </div>

  <p style="margin-top:20px;">
    <a class="btn" href="../index.html">‚Üê Back to Home</a>
  </p>

</div>

<script>
const out = document.getElementById('out');
const curEl = document.getElementById('currency');

function calc(){
  const rent = parseFloat(rent.value||'0');
  const n = parseInt(people.value||'0');
  const sharesStr = shares.value.trim();
  const cur = (curEl.value||'‚Çπ').trim() || '‚Çπ';

  if(!rent || !n || n<=0){
    out.innerHTML = `<p style="color:#d33">Enter valid rent and people.</p>`;
    return;
  }

  let shareArray = Array(n).fill(1);

  if(sharesStr){
    const arr = sharesStr.split(',').map(s=>+s.trim()).filter(x=>x>0);
    if(arr.length !== n){
      out.innerHTML = `<p style="color:#d33">Shares must match count. Example: 2,1,1</p>`;
      return;
    }
    shareArray = arr;
  }

  const sum = shareArray.reduce((a,b)=>a+b,0);
  const rows = shareArray.map((v,i)=>{
    const amt = rent*(v/sum);
    return `<tr><td>Person ${i+1}</td><td>${v}</td><td>${cur} ${amt.toFixed(2)}</td></tr>`;
  }).join('');

  out.innerHTML = `
    <table>
      <thead><tr><th>Person</th><th>Share</th><th>Amount</th></tr></thead>
      <tbody>${rows}</tbody>
      <tfoot><tr><th colspan="2">Total</th><th>${cur} ${rent.toFixed(2)}</th></tr></tfoot>
    </table>`;
}

function resetAll(){
  rent.value = people.value = shares.value = "";
  currency.value = "‚Çπ";
  out.innerHTML = "";
}

(function(){
  const t=localStorage.getItem('ks-theme');
  if(t==='dark'){
    document.body.classList.add('dark');
    document.querySelector('.theme-toggle').textContent='‚òÄÔ∏è';
  }
})();
function toggleTheme(){
  const d=document.body.classList.toggle('dark');
  localStorage.setItem('ks-theme', d?'dark':'light');
  document.querySelector('.theme-toggle').textContent = d?'‚òÄÔ∏è':'üåô';
}
</script>

</body>
</html>
